테스트 ID,날짜,버전,변경사항,통과율(%),통과/전체,save 횟수,skip 횟수,no_facts 횟수,reinforce 횟수,평균응답(ms),비고
v5-run1,2025-02-10,Fix전(baseline),"없음 (원본 코드)",32.7%,51/156,160,8,0,6,8360,"knownFacts 노이즈 오염 66개, AI 메모리활용 지시 없음, limit=5"
v5-run2,2025-02-18,Fix1-4 적용,"ACTION_SUBJECTS 확장+isActionFact 키워드폴백+limit 5→10+AI메모리활용지시+extractedFacts 정제",62.8%,98/156,48,10,다수,0,7819,"노이즈 대폭 감소(save 160→48), 응답시간 개선"
v5-run3,2025-02-18,P1+P2 적용,"계획/예정/일정 ACTION에서 제거+건강심리정보 구체적추출+미래계획 추출대상 추가",70.5%,110/156,58,10,다수,2,8196,"F10 일본여행 개별PASS! F17 적녹색약 완전PASS! F7 고소공포증 여전히 FAIL(강아지와혼동)"
v5-run4,2025-02-19,Phase2 Fix1-3 적용,"MULTI_VALUE_KEYS(다중값보존)+종합기억나열프롬프트+IDENTITY_SUBJECTS열망추가+ACTION_SUBJECTS희망제거",70.5%,110/156,60,8,다수,10,8946,"F7 고소공포증 PASS! F4/F5 종합PASS! F10 종합B PASS! F24 드럼 여전히 FAIL. 수치동일하나 패턴 크게변화"
v6-run1,2026-02-19,영구기억 전환,"decay제거+pruning제거+sharedExp캡제거+consolidate원본보존+검색윈도우확대(50→200/100→300)+프롬프트확대",73.7%,115/156,16,0,다수,61,-,"skip 0회(이전8→0). Pruning/Decay 완전제거. reinforce 61회(이전10→61). +3.2pp 개선"
v7-run1,2026-02-20,Pro메모리컨텍스트v1,"Pro에 getAllRelationships→knownFacts/sharedExp/emotionalHistory 전달",72.4%,113/156,10,4,다수,62,-,"Turn72/78 API타임아웃 2건. Pro기본메모리 전달만으로는 수치 변화 미미. skip 4회 발생"
v7-run2,2026-02-20,Pro디렉팅강화v2,"buildNarrativeContext+임베딩검색(searchCharacterMemories)+기억활용지시프롬프트+Lost-in-Middle배치최적화",75.6%,118/156,8,2,다수,67,-,"역대최고. reinforce 67회(최고). Turn48 API실패1건. 누적 +42.9pp"
v7-parallel-1,2026-02-20,병렬테스트(유저1),"v7-run2 동일 코드. 3유저 동시접속 테스트",75.6%,118/156,10,5,다수,55,-,"기존 유저. v7-run2와 동일 통과율. reinforce 55회"
v7-parallel-2,2026-02-20,병렬테스트(유저2),"v7-run2 동일 코드. 3유저 동시접속 테스트",77.6%,121/156,60,4,다수,6,-,"신규 유저. ★역대최고 77.6%. save 60회(신규라 첫 저장 많음). reinforce 6회"
v7-parallel-3,2026-02-20,병렬테스트(유저3),"v7-run2 동일 코드. 3유저 동시접속 테스트",41.7%,65/156,37,3,다수,24,-,"신규 유저. 이상치(41.7%). Gemini Flash 비결정적 응답으로 추정. API실패 0건"

---병렬 테스트 요약---
테스트 조건,3유저 동시접속 150턴 (동일 v7-run2 코드)
유저1 (기존),75.6% (118/156) - save:10 skip:5 reinforce:55
유저2 (신규),77.6% (121/156) - save:60 skip:4 reinforce:6 ★역대최고
유저3 (신규),41.7% (65/156) - save:37 skip:3 reinforce:24 이상치
평균,64.9% (101/156)
중앙값,75.6%
분석,"2/3 유저가 75%+ 달성. 유저3은 Gemini Flash 비결정적 특성으로 추정되는 이상치. API 실패 0건이므로 모델 응답 품질 차이"

---팩트별 상세---

팩트ID,내용,카테고리,v5-run3(개별),v5-run3(종합A),v5-run3(종합B),v5-run3(최종),v5-run4(개별),v5-run4(종합A),v5-run4(종합B),v5-run4(최종),변화
F1,이름: 김민수,Identity,PASS,PASS,PASS,PASS,PASS,PASS,PASS,PASS,유지
F2,나이: 25→26,Identity,FAIL(25),FAIL,PASS(26교정),PASS,PASS*(한글수),PASS*(스물다섯),PASS*(스물여섯),PASS,유지(자동검증한계)
F3,직업: 게임개발자,Identity,PASS,PASS,PASS,PASS,PASS,PASS,PASS,PASS,유지
F4,고양이 나비(검은),Identity,PASS,FAIL,FAIL,보충PASS,PASS,PASS,PASS,PASS,개선(종합FAIL→PASS)
F5,고양이 초코(치즈태비),Identity,PASS,FAIL,FAIL,보충PASS,PASS,PASS,PASS,PASS,개선(종합FAIL→PASS)
F6,초콜릿 알레르기,Health,PASS,PASS,PASS,PASS,PASS,PASS,PASS,PASS,유지
F7,고소공포증,Health,FAIL,FAIL,FAIL,FAIL(혼동),PASS(고소O),PASS,PASS,PASS,대폭개선(완전FAIL→PASS)
F8,여동생 수진/심리학,Family,PASS,PASS,부분,PASS,PASS,PASS(수진O심리학X),PASS(수진O심리학O),PASS,유지
F9,게임장르 RPG→로그라이크,Identity,PASS(교정),-,FAIL,교정PASS/종합FAIL,PASS(교정),검증없음,FAIL(미언급),부분,유지
F10,일본여행(도쿄/교토),Plan,PASS(도쿄교토),FAIL,FAIL,개별PASS/종합FAIL,PASS,FAIL,PASS,PASS,개선(종합B FAIL→PASS)
F11,밴드/기타,Hobby,부분(기타O),PASS,PASS,PASS,PASS,PASS,PASS,PASS,유지
F12,김치찌개,Preference,PASS,PASS,PASS,PASS,PASS,PASS,PASS,PASS,유지
F13,왼손잡이,Identity,PASS,FAIL,FAIL,개별PASS/종합FAIL,PASS,FAIL,FAIL,부분(개별PASS/종합FAIL),유지
F14,미국 3년,Identity,PASS,FAIL,FAIL,개별PASS/종합FAIL,PASS,FAIL,FAIL,부분(개별PASS/종합FAIL),유지
F15,러닝/한강5km,Hobby,PASS,PASS,PASS,PASS,PASS,PASS,PASS,PASS,유지
F16,MBTI: INFP,Identity,PASS,PASS,PASS,PASS,PASS,PASS,PASS,PASS,유지
F17,적녹색약,Health,PASS(적녹색약),FAIL,FAIL,개별완전PASS/종합보충PASS,PASS,FAIL,FAIL,부분,유지
F18,전여친 3년 이별,Relationship,-,-,-,미테스트,-,-,-,미테스트,유지
F19,피아노/쇼팽,Hobby,PASS,FAIL,FAIL,보충+활용PASS,PASS,PASS,PASS,PASS,개선(종합FAIL→PASS)
F20,강아지 무서움,Health,-,PASS,PASS,PASS,PASS,PASS,PASS,PASS,유지
F21,파란색,Preference,PASS(활용),PASS,PASS,PASS,PASS,PASS,PASS,PASS,유지
F22,아이스아메리카노,Preference,-,PASS,PASS,PASS,검증없음,PASS,PASS,PASS,유지
F23,수학 싫어,Preference,-,언급됨,-,FAIL,-,FAIL,-,FAIL,유지
F24,드럼 배우고싶음,Plan,-,FAIL,FAIL,FAIL,-,FAIL,FAIL,FAIL,유지(Fix3미작동)
F25,생일 9월23일,Identity,PASS(교정후),FAIL,PASS,PASS,PASS,FAIL(보충),PASS,PASS,유지
F26,고향 부산,Identity,PASS,FAIL,FAIL,개별PASS/종합FAIL,PASS,FAIL,FAIL,부분,유지
F27,형 민호/의사,Family,-,PASS,PASS,PASS,PASS,PASS,PASS,PASS,유지
F28,가을,Preference,-,PASS,PASS,PASS,FAIL,FAIL,FAIL,FAIL,퇴보(PASS→FAIL)
F29,졸업작품 게임,Plan,-,-,FAIL,보충PASS,-,-,-,FAIL,퇴보(보충PASS→FAIL)
F30,신라면,Preference,-,언급됨,언급됨,언급됨/키워드FAIL,-,FAIL,종합B나열O,부분,유지

---실패 유형 분류(v5-run4 업데이트)---

유형,설명,해당 팩트,v5-run3 상태,v5-run4 상태
Type A: 완전실패→해결,MULTI_VALUE_KEYS로 데이터유실 방지,"F7(고소공포증)",강아지와 혼동(데이터유실),PASS(고소+강아지 모두 보존)
Type B: 종합실패(부분해결),개별 OK/종합 FAIL,"F13(왼손) F14(미국) F26(부산)",종합 시 회상 안됨,"F4/F5/F10/F19는 종합PASS로 개선! F13/F14/F26은 여전히 종합FAIL"
Type C: 부분실패,핵심 OK/디테일 누락,"F9(로그라이크) F17(색약) F30(신라면)",교정/키워드 이슈,변화없음
Type D: 지속실패,추출 자체 안됨,"F24(드럼) F23(수학) F28(가을) F29(졸업작품)",ACTION분류/추출문제,"F24 Fix3 적용에도 FAIL(AI가 '욕구:' 대신 다른형식 추출 가능성). F28/F29 퇴보"

---개선 추이---
버전,통과율,개선폭,핵심변화
v5-run1 (baseline),32.7%,-,
v5-run2 (Fix 1-4),62.8%,+30.1pp,노이즈필터+메모리지시+검색확대
v5-run3 (P1+P2),70.5%,+7.7pp (누적 +37.8pp),건강정보구체화+미래계획추출
v5-run4 (Phase2 Fix1-3),70.5%,+0.0pp (누적 +37.8pp),"F7완전해결+F4/F5/F10/F19종합개선 but F28/F29퇴보로 상쇄. 질적개선 있으나 수치동일"
v6-run1 (영구기억),73.7%,+3.2pp (누적 +41.0pp),"decay/pruning 완전제거. skip 0회. reinforce 61회로 기억 강화 대폭 증가"
v7-run1 (Pro메모리v1),72.4%,-1.3pp (누적 +39.7pp),"Pro에 기본 메모리 전달. API타임아웃 2건으로 수치 하락. 실질 동등"
v7-run2 (Pro디렉팅강화),75.6%,+1.9pp (누적 +42.9pp),"buildNarrativeContext+임베딩검색+기억활용지시. reinforce 67회 역대최고. 역대최고 통과율"
v7-parallel (3유저동시),"75.6/77.6/41.7%",-,"동일코드 3유저 동시접속. 2/3유저 75%+. 유저2 77.6% ★역대최고. 유저3 이상치(41.7%)"
